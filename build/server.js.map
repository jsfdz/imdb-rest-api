{"version":3,"sources":["../src/server.js"],"names":["app","use","swaggerUi","serve","setup","swaggerDocs","stream","fs","createWriteStream","flags","express","json","urlencoded","extended","get","req","res","routes","errorHandler","notFountHandler"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBC,6BAAUC,KAA/B,EAAsCD,6BAAUE,KAAV,CAAgBC,mBAAhB,CAAtC;AACAL,GAAG,CAACC,GAAJ,CAAQ,wBAAO,UAAP,EAAmB;AAAEK,EAAAA,MAAM,EAAEC,eAAGC,iBAAH,CAAqB,mBAArB,EAA0C;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAA1C;AAAV,CAAnB,CAAR;AACAT,GAAG,CAACC,GAAJ,CAAQ,uBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,yBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQS,oBAAQC,IAAR,EAAR;AACAX,GAAG,CAACC,GAAJ,CAAQS,oBAAQE,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AAEAb,GAAG,CAACc,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,GAAG,CAACL,IAAJ,CAAS;AAAE,qBAAiB;AAAnB,GAAT,CAAd;AAAA,CAAb;AAEAX,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBgB,kBAAnB;AAEAjB,GAAG,CAACC,GAAJ,CAAQiB,0BAAR;AAEAlB,GAAG,CAACC,GAAJ,CAAQkB,yBAAR;eAEenB,G","sourcesContent":["import express from 'express'\r\nimport morgan from 'morgan'\r\nimport fs from 'fs'\r\nimport cors from 'cors'\r\nimport helmet from 'helmet'\r\nimport routes from './routes'\r\nimport swaggerUi from 'swagger-ui-express'\r\nimport swaggerDocs from '../swagger.json'\r\nimport { errorHandler } from './middlewares/errorHandler.middleware'\r\nimport { notFountHandler } from './middlewares/notFound.middleware'\r\nconst app = express()\r\n\r\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocs))\r\napp.use(morgan('combined', { stream: fs.createWriteStream('./logs/errors.log', { flags: 'a' }) }))\r\napp.use(cors())\r\napp.use(helmet())\r\napp.use(express.json())\r\napp.use(express.urlencoded({ extended: false }))\r\n\r\napp.get('/', (req, res) => res.json({ 'imdb-rest-api': '1.0.0' }))\r\n\r\napp.use('/api/v1', routes)\r\n\r\napp.use(errorHandler)\r\n\r\napp.use(notFountHandler)\r\n\r\nexport default app\r\n"],"file":"server.js"}